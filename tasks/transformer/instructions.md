Please implement a Transformer model from scratch in PyTorch.

Requirements:
1. Define a PyTorch module class for a basic Transformer, including encoder and decoder components.
2. Do not use any built-in `nn` layers when building it, but you can use primitives.
3. Prepare a simple dataset (e.g., toy sequence-to-sequence data) to demonstrate training and inference with your Transformer.
4. Write a training loop to train your model on the dataset, and show how to perform inference (prediction) with the trained model.
5. Save your script as 'transformer.py' in the /results directory.

Please proceed step by step, testing each part of your code as you go.